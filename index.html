<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Abhay ğŸ’– Anjana</title>

<!-- PWA Manifest -->
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#ff4d6d">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

<style>
*{box-sizing:border-box}
body{margin:0;height:100vh;overflow:hidden;display:flex;justify-content:center;align-items:center;font-family:Poppins,system-ui,-apple-system;background:linear-gradient(135deg,#ffe6f0,#fff1c1);transition:background .6s}
body.dark{background:linear-gradient(135deg,#1e1e2f,#2b2b45)}
.container{width:92%;max-width:420px;background:#fff;border-radius:26px;padding:28px;text-align:center;position:relative;z-index:2;box-shadow:0 25px 45px rgba(0,0,0,.18);transition:background .6s,color .6s}
body.dark .container{background:#2b2b45;color:#fff}
img{width:160px;margin-bottom:14px;transition:opacity .4s}
h1{margin:6px 0;color:#ff4d6d}
body.dark h1{color:#ff9db0}
p{color:#555;min-height:48px}
body.dark p{color:#ddd}
button{padding:12px 28px;border:none;border-radius:30px;font-size:17px;cursor:pointer;margin-top:10px;transition:transform .2s}
button:hover{transform:scale(1.05)}
.option{width:100%;background:#ffe6eb}
#yes{background:#ff4d6d;color:#fff;animation:pulse 1.5s infinite}
#no{background:#ddd;position:absolute}
@keyframes pulse{0%{box-shadow:0 0 0 0 rgba(255,77,109,.6)}70%{box-shadow:0 0 0 15px rgba(255,77,109,0)}100%{box-shadow:0 0 0 0 rgba(255,77,109,0)}}
.hidden{display:none}
.btns{margin-top:18px;position:relative;height:120px}
.toggle{position:absolute;top:12px;right:16px;cursor:pointer}
.name-glow{font-size:22px;font-weight:700;letter-spacing:.5px;background:linear-gradient(90deg,#ff4d6d,#ff9db0,#ff4d6d);-webkit-background-clip:text;background-clip:text;color:transparent;animation:glow 3s linear infinite}
@keyframes glow{to{background-position:200%}}
.heart{position:absolute;bottom:-20px;opacity:.6;animation:float 6s linear infinite}
@keyframes float{to{transform:translateY(-120vh);opacity:0}}
.badge{font-size:13px;opacity:.8}
.countdown{font-weight:600;margin-top:6px}
.share{margin-top:14px;background:#25D366;color:#fff;width:100%}
.easter{font-size:14px;opacity:.85}
</style>
</head>

<body>

<div class="toggle" onclick="toggleDark()">ğŸŒ™</div>

<audio id="music" loop>
  <source src="https://cdn.pixabay.com/audio/2023/03/02/audio_1c94c7c0f1.mp3" type="audio/mpeg">
</audio>

<div class="container">
  <div class="name-glow" id="titleTap">Abhay Ã— Anjana</div>
  <div class="badge">Final Boss Valentine ğŸ’˜ (tap our name ğŸ‘€)</div>

  <img id="gif" src="https://media.tenor.com/6xJ9s6ZC0uQAAAAC/mochi.gif" />

  <h1 id="title"></h1>
  <p id="text"></p>

  <div id="quiz">
    <button class="option" onclick="answer(true)">He is soft at heart ğŸ¥¹</button>
    <button class="option" onclick="answer(false)">He has no emotions ğŸ˜</button>
  </div>

  <div id="yesNo" class="hidden">
    <button id="yes" onclick="answer(true)">Yes</button><br/>
    <button id="no" class="noBtn">No</button>
  </div>

  <div id="proposal" class="hidden">
    <p>Okayâ€¦ final question ğŸ’–</p>
    <h2>Will you be my Valentine?</h2>
    <div class="btns">
      <button id="yesFinal" onclick="yesClicked()">Yes ğŸ’•</button>
      <button id="noFinal">No ğŸ™„</button>
    </div>
  </div>

  <div id="final" class="hidden">
    <img src="https://media.tenor.com/j1g5cZzQ8SAAAAAC/mochi-love.gif">
    <h1>She said YES ğŸ˜­â¤ï¸</h1>
    <p>Best Valentine ever ğŸ’˜</p>
    <div class="countdown" id="countdown"></div>
    <button class="share" onclick="share()">Share on WhatsApp ğŸ’¬</button>
    <div class="easter hidden" id="easter">ğŸ£ Easter egg unlocked: Love +1 forever</div>
  </div>
</div>

<script>
// Hearts background
for(let i=0;i<24;i++){
  const h=document.createElement('div');
  h.className='heart';h.textContent='ğŸ’—';
  h.style.left=Math.random()*100+'vw';
  h.style.animationDuration=4+Math.random()*4+'s';
  document.body.appendChild(h);
}

// Questions + typewriter
let step=0,taps=0;
const title=document.getElementById('title');
const text=document.getElementById('text');
const quiz=document.getElementById('quiz');
const yesNo=document.getElementById('yesNo');
const proposal=document.getElementById('proposal');
const gif=document.getElementById('gif');
const music=document.getElementById('music');

const questions=[
 {t:"Hi Anjana ğŸ’•", q:"Before anythingâ€¦ let me ask you something sweet ğŸ˜Œ", g:"https://media.tenor.com/6xJ9s6ZC0uQAAAAC/mochi.gif", type:"choice"},
 {t:"Question 2 ğŸ’–", q:"Does Abhay overthink because he cares a little too much?", g:"https://media.tenor.com/3Z7Yj2d7B0QAAAAC/mochi-walk.gif", type:"yesno"},
 {t:"Question 3 ğŸ¥¹", q:"When he smiles, does it feel like home?", g:"https://media.tenor.com/0KJZVjU0qKQAAAAC/mochi-love.gif", type:"yesno"},
 {t:"Question 4 ğŸ˜Œ", q:"Would you trust him with your heart?", g:"https://media.tenor.com/5f7qK0H2z4IAAAAC/mochi-cat-walk.gif", type:"yesno"},
 {t:"One last thing ğŸ’˜", q:"If he promises to choose you every dayâ€¦ should he stop overthinking now?", g:"https://media.tenor.com/Qw8n3YHq4iUAAAAC/mochi-please.gif", type:"yesno"}
];

function type(el,txt){
  el.innerHTML='';let i=0;
  const t=setInterval(()=>{el.innerHTML+=txt[i++];if(i>=txt.length)clearInterval(t)},40);
}

function loadQ(){
  const q=questions[step];
  gif.style.opacity=0;
  setTimeout(()=>{gif.src=q.g;gif.style.opacity=1},300);
  type(title,q.t);type(text,q.q);
  quiz.classList.toggle('hidden',q.type!=='choice');
  yesNo.classList.toggle('hidden',q.type!=='yesno');
}

function answer(ok){
  if(!ok){alert("Wrong answer ğŸ˜ try again");return}
  music.play();
  step++; step<questions.length?loadQ():(quiz.classList.add('hidden'),yesNo.classList.add('hidden'),proposal.classList.remove('hidden'));
}

loadQ();

// Dark mode
function toggleDark(){document.body.classList.toggle('dark')}

// Final proposal yes/no
function yesClicked(){
  proposal.classList.add('hidden');
  document.getElementById('final').classList.remove('hidden');
  confetti(); startCountdown();
}

// Final No button runs away
const noBtn=document.getElementById('noFinal');
function moveNo(){
  const x=Math.random()*260-130;
  const y=Math.random()*160-80;
  noBtn.style.transform=`translate(${x}px,${y}px)`;
}
noBtn.addEventListener('mouseover',moveNo);
noBtn.addEventListener('touchstart',moveNo);

// Confetti
function confetti(){
  for(let i=0;i<80;i++){
    const c=document.createElement('div');
    c.textContent='ğŸ‰';c.style.position='fixed';
    c.style.left=Math.random()*100+'vw';c.style.top='-20px';
    c.style.fontSize='20px';c.style.animation='fall 3s linear';
    document.body.appendChild(c);setTimeout(()=>c.remove(),3000);
  }
}
const s=document.createElement('style');
s.textContent='@keyframes fall{to{transform:translateY(110vh) rotate(360deg)}}';
document.head.appendChild(s);

// Countdown to next Valentine's
function startCountdown(){
  const el=document.getElementById('countdown');
  const target=new Date(new Date().getFullYear(),1,14);
  setInterval(()=>{
    const d=target-new Date();
    if(d<=0){el.textContent="Happy Valentineâ€™s Day â¤ï¸";return}
    const days=Math.floor(d/864e5);
    const hrs=Math.floor(d%864e5/36e5);
    el.textContent=`Valentineâ€™s Day in ${days}d ${hrs}h ğŸ’`;
  },1000);
}

// Share WhatsApp
function share(){
  const msg=encodeURIComponent("She said YES! ğŸ’– Check this out:");
  const url=encodeURIComponent(location.href);
  window.open(`https://wa.me/?text=${msg}%20${url}`,'_blank');
}

// Easter egg: tap name 5x
document.getElementById('titleTap').onclick=()=>{
  if(++taps===5) document.getElementById('easter').classList.remove('hidden');
};

// Unlock music on first tap (browser autoplay fix)
let musicUnlocked=false;
document.addEventListener("click",()=>{
  if(!musicUnlocked){music.volume=0.6; music.play().catch(()=>{}); musicUnlocked=true;}
});
document.addEventListener("touchstart",()=>{
  if(!musicUnlocked){music.volume=0.6; music.play().catch(()=>{}); musicUnlocked=true;}
});

// Generate floating hearts
for(let i=0;i<24;i++){
  const h=document.createElement('div');
  h.className='heart'; h.textContent='ğŸ’—';
  h.style.left=Math.random()*100+'vw';
  h.style.animationDuration=4+Math.random()*4+'s';
  document.body.appendChild(h);
}

// Service Worker registration for PWA
if("serviceWorker" in navigator){
  window.addEventListener("load",()=>{
    navigator.serviceWorker.register("sw.js")
    .then(()=>console.log("Service Worker registered âœ…"))
    .catch(err=>console.log("Service Worker failed âŒ",err));
  });
}
</script>
</body>
      </html>
      
